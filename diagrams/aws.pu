@startuml AWS

!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/v20.0/dist
!includeurl AWSPuml/AWSCommon.puml
!includeurl AWSPuml/AWSSimplified.puml

' Minimal fallbacks so group helpers work without category bundles.
' Draws a simple rectangle; ignores icon/style parameters.
!define AWSGroupEntity(g_alias, g_label, _color, _symbol, _groupColoring) rectangle g_label as g_alias
!define AWSGroupColoring(_name, _bg, _border, _style)

!define AWS_COLOR_BLACK #000000

!define COLOR_BG_GREY #F2F2F2
!define COLOR_BG_YELLOW #FDFCDC
!define COLOR_BG_GREEN #E5FFDE
!define COLOR_BG_PURPLE #F7F0F5
!define COLOR_BG_RED #FFEAEE
!define COLOR_BG_BLUE #E0FBFC

' AWS Cloud Group
AWSGroupColoring(AWSCloudGroup, COLOR_BG_GREY, #000000, plain)

' API Gateway Group
AWSGroupColoring(APIGatewayGroupColoring, COLOR_BG_PURPLE, AWS_COLOR_PINK, plain)
!define APIGatewayGroup(g_alias, g_label="API Gateway") AWSGroupEntity(g_alias, g_label, AWS_COLOR_PINK, APIGateway, APIGatewayGroupColoring)

' API Gateway Endpoint Group
AWSGroupColoring(APIGatewayEndpointGroupColoring, COLOR_BG_PURPLE, AWS_COLOR_PINK, dashed)
!define APIGatewayEndpointGroup(g_alias, g_label="Endpoint") AWSGroupEntity(g_alias, g_label, AWS_COLOR_PINK, APIGatewayEndpointGroupColoring)

' DynamoDB Group
AWSGroupColoring(DynamoDBGroupColoring, COLOR_BG_BLUE, AWS_COLOR_BLUE, plain)
!define DynamoDBGroup(g_alias, g_label="DynamoDB") AWSGroupEntity(g_alias, g_label, AWS_COLOR_BLUE, DynamoDB, DynamoDBGroupColoring)

' Step Function Group
AWSGroupColoring(StepFunctionGroupColoring, COLOR_BG_RED, AWS_COLOR_PINK, plain)
!define StepFunctionGroup(g_alias, g_label="Step Functions") AWSGroupEntity(g_alias, g_label, AWS_COLOR_PINK, StepFunctions, StepFunctionGroupColoring)

' Web App Group
AWSGroupColoring(WebAppGroupColoring, COLOR_BG_GREY, AWS_COLOR_BLACK, plain)
!define WebAppGroup(g_alias, g_label="web-app") AWSGroupEntity(g_alias, g_label, AWS_COLOR_BLACK, Cloud, WebAppGroupColoring)

@enduml
